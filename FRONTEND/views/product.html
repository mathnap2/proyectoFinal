<!doctype html>
<html lang="en">
    <head>
        <title>Title</title>
        <!-- Required meta tags -->
        <meta charset="utf-8" />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1, shrink-to-fit=no"
        />

        <!-- Bootstrap CSS v5.2.1 -->
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
            crossorigin="anonymous"
        />

        <title>Inicio de sesión</title>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
        <link rel="stylesheet" href="../assets/style.css">

        
        <script src="../controllers/env.js"></script>
        <script src="https://www.paypal.com/sdk/js?client-id=sb&currency=MXN"></script>
    </head>

    <body>
      <div id="navbar-container"></div>

      <script>
          fetch('navbar.html')
          .then(res => res.text())
          .then(html => {
              document.getElementById('navbar-container').innerHTML = html;
          });
      </script>


    <!--Producto-->
    <div class="container my-5">
        <div class="row g-4 justify-content-center align-items-start">
          <!-- Columna del producto -->
          <div class="col-md-6 text-center fade-in">
            <div class="card border-0">
              <img src="https://fanatics.frgimages.com/new-york-yankees/mens-nike-aaron-judge-white-new-york-yankees-home-replica-player-name-jersey_pi3592000_altimages_ff_3592645-11960f417ba69ff98eccalt2_full.jpg?_hv=2&w=900"
                class="card-img-top img-fluid" alt="Jersey New York Yankees Color Blanco">
            </div>
          </div>
          <!--Columna del form-->
          <div class="col-md-4">
            <div class="card border rounded p-4 shadow-sm">
              <h5 class="fw-bold mb-2">Jersey NY Yankees Talla L</h5>
              <p style="text-align: center;">$ 2,599.00 MXN</p>
      
              <label class="form-label">Cantidad</label>
                
                <div class="d-flex justify-content-center">
                  <div class="input-group align-items-center" style="width: 140px;">
                    <button class="btn btn-outline-dark border-end-0" type="button" id="decreaseBtn">−</button>
                    <input type="text" class="form-control text-center border-start-0 border-end-0" value="1" id="quantityInput" readonly>
                    <button class="btn btn-outline-dark border-start-0" type="button" id="increaseBtn">+</button>
                  </div>
                </div>
              

               <a href="./demoCart.html"><button class="btn btn-outline-dark w-100 mb-3">Agregar al carrito</button></a>
      
              <div id="paypal-button-container" class="mb-3"></div>
      
              <div class="text-center mb-4">
                <a href="#" class="text-muted" style="font-size: 14px;">Más opciones de pago</a>
              </div>
      
              <hr>
              <p class="fw-semibold">Jersey NY Yankees Talla L</p>
              <p class="text-success mb-0">✅ 10/10 Como nuevo</p>
            </div>
          </div>
        </div>
      </div>


      

      <!--Script para paypal-->
      <script>
        paypal.Buttons({
          createOrder: function(data, actions) {
            return actions.order.create({
              purchase_units: [{
                amount: {
                  value: '2599.00' // Precio fijo o puedes tomarlo dinámico
                }
              }]
            });
          },
          onApprove: function(data, actions) {
            return actions.order.capture().then(function(details) {
              alert('Pago completado por ' + details.payer.name.given_name + ' ✅');
              // Aquí puedes redirigir, guardar pedido, etc.
            });
          }
        }).render('#paypal-button-container'); // Renderiza el botón
      </script>
      
      
      <!-- JS para controlar la cantidad -->
      <script>
        document.addEventListener("DOMContentLoaded", function () {
          const decreaseBtn = document.getElementById("decreaseBtn");
          const increaseBtn = document.getElementById("increaseBtn");
          const quantityInput = document.getElementById("quantityInput");
      
          decreaseBtn.addEventListener("click", function () {
            let value = parseInt(quantityInput.value);
            if (value > 1) {
              quantityInput.value = value - 1;
            }
          });
      
          increaseBtn.addEventListener("click", function () {
            let value = parseInt(quantityInput.value);
            quantityInput.value = value + 1;
          });
        });
      </script>      
    

    <!--Linea divisora-->
    <div id="footer-container"></div>
        <script>
            fetch('footer.html')
              .then(res => res.text())
              .then(html => {
                document.getElementById('footer-container').innerHTML = html;
              });
          </script>
    
    <script>
        const observer = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              entry.target.classList.add('visible');
              // Si solo quieres que se active una vez:
              observer.unobserve(entry.target);
            }
          });
        });
      
        document.querySelectorAll('.fade-in').forEach(el => observer.observe(el));
    </script>
    
    <script src="../controllers/auth_controllers.js"></script>
        <!-- Bootstrap JavaScript Libraries -->
        <script
            src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
            integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
            crossorigin="anonymous"
        ></script>

        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
            integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
            crossorigin="anonymous"
        ></script>
    </body>
</html>




